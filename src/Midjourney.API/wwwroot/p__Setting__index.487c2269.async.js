"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[971],{86382:function(we,H,i){i.r(H),i.d(H,{default:function(){return be}});var ie=i(15009),h=i.n(ie),le=i(99289),b=i.n(le),oe=i(5574),A=i.n(oe),v=i(67294),de=i(74981),Ne=i(90252),Ve=i(22777),e=i(85893),ge=function(V){var z=V.value,j=z===void 0?{}:z,$=V.onChange,Q=v.useState(JSON.stringify(j,null,2)),E=A()(Q,2),k=E[0],a=E[1],G=v.useState(!0),L=A()(G,2),I=L[0],f=L[1];(0,v.useEffect)(function(){var w=JSON.stringify(j),m=JSON.stringify(JSON.parse(k));w!==m&&a(JSON.stringify(j,null,2))},[j]);var Y=function(m){a(m);try{var P=JSON.parse(m);f(!0),$&&$(P)}catch(q){f(!1)}};return(0,e.jsxs)("div",{style:{width:"100%"},children:[(0,e.jsx)(de.ZP,{mode:"json",theme:"textmate",value:k,onChange:Y,name:"json-editor",editorProps:{$blockScrolling:!0},height:"auto",maxLines:1/0,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1},style:{width:"100%",minHeight:"80px"},fontSize:14,lineHeight:19,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0}),!I&&(0,e.jsx)("div",{style:{color:"red",marginTop:"8px"},children:"JSON \u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u8F93\u5165\uFF01"})]})},F=ge,C=i(66927),ce=i(87740),pe=i(98165),W=i(85060),me=i(60219),he=i(90930),fe=i(94272),Fe=i(71471),s=i(53025),g=i(2453),K=i(28248),je=i(74330),U=i(42075),O=i(40056),X=i(83062),D=i(28036),T=i(4393),Ze=i(66309),Ce=i(38703),N=i(71230),R=i(15746),n=i(72269),c=i(74656),M=i(26915),x=i(37804),ve=i(87419),xe=Fe.Z.Text,Ee=function(){var V=s.Z.useForm(),z=A()(V,1),j=z[0],$=(0,v.useState)(null),Q=A()($,2),E=Q[0],k=Q[1],a=(0,fe.useIntl)(),G=(0,v.useState)(!1),L=A()(G,2),I=L[0],f=L[1],Y=(0,v.useState)(null),w=A()(Y,2),m=w[0],P=w[1],q=(0,v.useState)(""),_=A()(q,2),ee=_[0],ze=_[1],De=(0,v.useState)(""),ae=A()(De,2),Me=ae[0],$e=ae[1],Ie=function(){var p=b()(h()().mark(function u(){var r,l;return h()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=j.getFieldValue("consulOptions"),r){t.next=5;break}return g.ZP.warning("\u8BF7\u5148\u586B\u5199 Consul \u914D\u7F6E"),t.abrupt("return");case 5:return f(!0),t.next=8,(0,C.Ag)(r);case 8:l=t.sent,l.success?(j.setFieldsValue(l.data),k(l.data),g.ZP.success("\u52A0\u8F7D\u6210\u529F")):g.ZP.error(l.message),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),g.ZP.error(t.t0);case 15:return t.prev=15,f(!1),t.finish(15);case 18:case"end":return t.stop()}},u,null,[[0,12,15,18]])}));return function(){return p.apply(this,arguments)}}(),Se=function(){var p=b()(h()().mark(function u(){var r,l;return h()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f(!0),r={databaseConnectionString:j.getFieldValue("databaseConnectionString"),databaseName:j.getFieldValue("databaseName"),databaseType:j.getFieldValue("databaseType"),isRedis:!1},t.next=5,(0,C.Xu)(r);case 5:l=t.sent,l.success?g.ZP.success("\u8FDE\u63A5\u6210\u529F"):g.ZP.error(l.message),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),g.ZP.error(t.t0);case 12:return t.prev=12,f(!1),t.finish(12);case 15:case"end":return t.stop()}},u,null,[[0,9,12,15]])}));return function(){return p.apply(this,arguments)}}(),Be=function(){var p=b()(h()().mark(function u(){var r,l;return h()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f(!0),r={databaseConnectionString:j.getFieldValue("redisConnectionString"),isRedis:!0},t.next=5,(0,C.Xu)(r);case 5:l=t.sent,l.success?g.ZP.success("\u8FDE\u63A5\u6210\u529F"):g.ZP.error(l.message),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),g.ZP.error(t.t0);case 12:return t.prev=12,f(!1),t.finish(12);case 15:case"end":return t.stop()}},u,null,[[0,9,12,15]])}));return function(){return p.apply(this,arguments)}}(),ye=function(){var p=b()(h()().mark(function u(r,l){var d,t;return h()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.prev=0,f(!0),d={Host:r,ApiSecret:l},Z.next=5,(0,C.gU)(d);case 5:t=Z.sent,t.success?g.ZP.success(a.formatMessage({id:"pages.setting.migrateSuccess"})):g.ZP.error(t.message),Z.next=12;break;case 9:Z.prev=9,Z.t0=Z.catch(0),g.ZP.error(Z.t0);case 12:return Z.prev=12,f(!1),Z.finish(12);case 15:case"end":return Z.stop()}},u,null,[[0,9,12,15]])}));return function(r,l){return p.apply(this,arguments)}}(),Qe=function(){ee?ye(ee,Me):g.ZP.warning(a.formatMessage({id:"pages.setting.migrateTips"}))},Te=(0,v.useState)(!1),se=A()(Te,2),Ge=se[0],te=se[1],Pe=(0,v.useState)(null),ue=A()(Pe,2),B=ue[0],J=ue[1],ne=function(){B&&clearInterval(B);var u=setInterval(b()(h()().mark(function r(){var l,d;return h()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,C.iE)();case 3:l=o.sent,l.success&&(d=(l==null?void 0:l.data.upgradeInfo)||{},P(d),(d.status==="ReadyToRestart"||d.status==="Failed"||d.status==="Idle"||d.status==="Success")&&(clearInterval(u),J(null))),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),console.error("\u76D1\u63A7\u66F4\u65B0\u72B6\u6001\u5931\u8D25:",o.t0);case 10:case"end":return o.stop()}},r,null,[[0,7]])})),2e3);J(u)},Ue=function(){var p=b()(h()().mark(function u(){var r;return h()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,te(!0),d.next=4,(0,C.Py)();case 4:r=d.sent,r.success?(P(r.data),r.data.status==="Downloading"&&ne()):g.ZP.error(r.message||"\u68C0\u67E5\u66F4\u65B0\u5931\u8D25"),d.next=11;break;case 8:d.prev=8,d.t0=d.catch(0),g.ZP.error("\u68C0\u67E5\u66F4\u65B0\u5931\u8D25");case 11:return d.prev=11,te(!1),d.finish(11);case 14:case"end":return d.stop()}},u,null,[[0,8,11,14]])}));return function(){return p.apply(this,arguments)}}(),Oe=function(){var p=b()(h()().mark(function u(){var r,l,d;return h()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,C.Uf)();case 3:if(r=o.sent,!r.success){o.next=19;break}return g.ZP.success("\u5DF2\u53D6\u6D88\u66F4\u65B0"),B&&(clearInterval(B),J(null)),o.prev=7,o.next=10,(0,C.iE)();case 10:l=o.sent,l.success&&(d=(l==null?void 0:l.data.upgradeInfo)||{},P(d)),o.next=17;break;case 14:o.prev=14,o.t0=o.catch(7),console.error("\u76D1\u63A7\u66F4\u65B0\u72B6\u6001\u5931\u8D25:",o.t0);case 17:o.next=20;break;case 19:g.ZP.error(r.message||"\u53D6\u6D88\u66F4\u65B0\u5931\u8D25");case 20:o.next=25;break;case 22:o.prev=22,o.t1=o.catch(0),g.ZP.error("\u53D6\u6D88\u66F4\u65B0\u5931\u8D25");case 25:case"end":return o.stop()}},u,null,[[0,22],[7,14]])}));return function(){return p.apply(this,arguments)}}(),Re=function(){var p=b()(h()().mark(function u(){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:K.Z.confirm({title:"\u786E\u8BA4\u91CD\u542F",content:"\u65B0\u7248\u672C ".concat(m==null?void 0:m.latestVersion," \u5DF2\u51C6\u5907\u5C31\u7EEA\uFF0C\u662F\u5426\u7ACB\u5373\u91CD\u542F\u5E94\u7528\u4EE5\u5B8C\u6210\u66F4\u65B0\uFF1F"),okText:"\u7ACB\u5373\u91CD\u542F",cancelText:"\u7A0D\u540E\u91CD\u542F",onOk:function(){var d=b()(h()().mark(function o(){return h()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:try{(0,C.ur)().then(function(S){f(!1),S.success?g.ZP.success(S.message||a.formatMessage({id:"pages.setting.restartSuccess"})):g.ZP.error(S.message||a.formatMessage({id:"pages.setting.error"}))})}catch(S){g.ZP.error("\u91CD\u542F\u5931\u8D25")}case 1:case"end":return y.stop()}},o)}));function t(){return d.apply(this,arguments)}return t}()});case 1:case"end":return l.stop()}},u)}));return function(){return p.apply(this,arguments)}}(),ke=function(){var p=b()(h()().mark(function u(){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:K.Z.confirm({title:"\u786E\u8BA4\u91CD\u542F\u6240\u6709\u8282\u70B9",content:"\u786E\u8BA4\u91CD\u542F\u6240\u6709\u8282\u70B9\u5417\uFF1F",okText:"\u7ACB\u5373\u91CD\u542F",cancelText:"\u53D6\u6D88",onOk:function(){var d=b()(h()().mark(function o(){return h()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:try{(0,C.ur)(!0).then(function(S){f(!1),S.success?g.ZP.success(S.message||"\u64CD\u4F5C\u5931\u8D25"):g.ZP.error(S.message||"\u64CD\u4F5C\u5931\u8D25")})}catch(S){g.ZP.error("\u91CD\u542F\u5931\u8D25")}case 1:case"end":return y.stop()}},o)}));function t(){return d.apply(this,arguments)}return t}()});case 1:case"end":return l.stop()}},u)}));return function(){return p.apply(this,arguments)}}();(0,v.useEffect)(function(){return function(){B&&clearInterval(B)}},[B]);var re=function(){f(!0),(0,C.iE)().then(function(u){f(!1),u.success&&(j.setFieldsValue(u.data),k(u.data),P(u.data.upgradeInfo||{}),u.data.upgradeInfo.status==="Downloading"&&ne())})};(0,v.useEffect)(function(){re()},[]);var Le=function(){j.validateFields().then(function(u){f(!0),(0,C.rF)(u).then(function(r){f(!1),r.success?(g.ZP.success(a.formatMessage({id:"pages.setting.saveSuccess"})),re()):g.ZP.error(r.message||a.formatMessage({id:"pages.setting.error"}))})}).catch(function(){g.ZP.error(a.formatMessage({id:"pages.setting.error"}))})};return(0,e.jsx)(he._z,{children:(0,e.jsx)(s.Z,{form:j,labelAlign:"left",layout:"horizontal",labelCol:{span:6},wrapperCol:{span:18},children:(0,e.jsxs)(je.Z,{spinning:I,children:[(0,e.jsxs)(U.Z,{style:{marginBottom:"10px",display:"flex",justifyContent:"space-between"},children:[(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(O.Z,{type:"info",style:{paddingTop:"4px",paddingBottom:"4px"},description:a.formatMessage({id:"pages.setting.tips"})}),(0,e.jsx)(X.Z,{title:"\u5F53\u5F00\u542F Consul \u5206\u5E03\u5F0F\u90E8\u7F72\u65F6\uFF0C\u91CD\u542F\u5C06\u4F5C\u7528\u4E8E\u6240\u6709\u8282\u70B9\uFF0C\u8C28\u614E\u64CD\u4F5C\uFF01",placement:"bottom",children:(0,e.jsx)(D.ZP,{loading:I,type:"primary",danger:!0,icon:(0,e.jsx)(ce.Z,{spin:I}),onClick:ke,children:"\u91CD\u542F\u6240\u6709\u8282\u70B9"})}),(0,e.jsx)(X.Z,{title:a.formatMessage({id:"pages.setting.restartServiceTips"}),placement:"bottom",children:(0,e.jsx)(D.ZP,{loading:I,type:"dashed",danger:!0,icon:(0,e.jsx)(pe.Z,{spin:I}),onClick:function(){f(!0),(0,C.ur)().then(function(u){f(!1),u.success?g.ZP.success(u.message||a.formatMessage({id:"pages.setting.restartSuccess"})):g.ZP.error(u.message||a.formatMessage({id:"pages.setting.error"}))})},children:"\u91CD\u542F\u5F53\u524D\u8282\u70B9"})}),(0,e.jsx)(D.ZP,{type:"dashed",icon:(0,e.jsx)(W.Z,{}),onClick:Ue,loading:I,children:a.formatMessage({id:"pages.setting.checkUpdate"})})]}),(0,e.jsx)(U.Z,{children:(0,e.jsx)(D.ZP,{loading:I,icon:(0,e.jsx)(me.Z,{}),type:"primary",onClick:Le,children:a.formatMessage({id:"pages.setting.save"})})})]}),m&&(0,e.jsx)(T.Z,{style:{marginTop:16,marginBottom:16},size:"small",title:(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(W.Z,{}),a.formatMessage({id:"pages.setting.updateStatus"})]}),children:(0,e.jsxs)(U.Z,{direction:"vertical",style:{width:"100%"},children:[m.hasUpdate&&(0,e.jsx)(Ze.Z,{color:"green",children:m.latestVersion}),m.message&&(0,e.jsx)("div",{children:(0,e.jsx)(xe,{type:"secondary",children:m.message})}),m.status==="Downloading"&&(0,e.jsxs)("div",{children:[(0,e.jsx)(Ce.Z,{percent:m.progress,status:"active",format:function(u){return"".concat(u,"%")}}),(0,e.jsx)(D.ZP,{size:"small",danger:!0,onClick:Oe,style:{marginTop:8},children:"\u53D6\u6D88\u4E0B\u8F7D"})]}),m.status==="ReadyToRestart"&&(0,e.jsx)(O.Z,{message:"\u65B0\u7248\u672C ".concat(m.latestVersion," \u5DF2\u51C6\u5907\u5C31\u7EEA"),description:"\u70B9\u51FB\u4E0B\u65B9\u6309\u94AE\u91CD\u542F\u5E94\u7528\u4EE5\u5B8C\u6210\u66F4\u65B0",type:"success",showIcon:!0,action:(0,e.jsx)(D.ZP,{type:"primary",onClick:Re,children:"\u91CD\u542F\u5E94\u7528"})}),m.status==="Failed"&&m.errorMessage&&(0,e.jsx)(O.Z,{message:"\u66F4\u65B0\u5931\u8D25",description:m.errorMessage,type:"error",showIcon:!0}),!m.hasUpdate&&m.status==="Success"&&(0,e.jsx)(O.Z,{message:"\u5DF2\u662F\u6700\u65B0\u7248\u672C",description:"\u5F53\u524D\u7248\u672C\u5DF2\u662F\u6700\u65B0\u7248\u672C",type:"info",showIcon:!0}),!m.supportedPlatform&&(0,e.jsx)(O.Z,{message:"\u5F53\u524D\u5E73\u53F0\u4E0D\u652F\u6301\u81EA\u52A8\u66F4\u65B0",description:"\u68C0\u6D4B\u5230\u5E73\u53F0: ".concat(m.platform),type:"warning",showIcon:!0}),m.body&&(0,e.jsx)("div",{className:"markdown-content",style:{overflowY:"auto"},children:(0,e.jsx)(ve.U,{children:m.body})})]})}),(0,e.jsxs)(N.Z,{gutter:16,children:[(0,e.jsx)(R.Z,{span:12,children:(0,e.jsxs)(T.Z,{title:a.formatMessage({id:"pages.setting.accountSetting"}),bordered:!1,children:[(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableSwagger"}),name:"enableSwagger",extra:j.getFieldValue("enableSwagger")?(0,e.jsx)("a",{href:"/swagger",target:"_blank",rel:"noreferrer",children:a.formatMessage({id:"pages.setting.swaggerLink"})}):"",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.databaseType"}),name:"databaseType",children:(0,e.jsxs)(c.Z,{allowClear:!0,children:[(0,e.jsx)(c.Z.Option,{value:"SQLite",children:"SQLite"}),(0,e.jsx)(c.Z.Option,{value:"MySQL",children:"MySQL"}),(0,e.jsx)(c.Z.Option,{value:"PostgreSQL",children:"PostgreSQL"}),(0,e.jsx)(c.Z.Option,{value:"SQLServer",children:"SQLServer"})]})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.databaseConnectionString"}),name:"databaseConnectionString",extra:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(D.ZP,{style:{marginTop:8},type:"primary",onClick:Se,children:a.formatMessage({id:"pages.setting.testConnect"})})}),children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(s.Z.Item,{label:"\u542F\u7528 Redis",name:"enableRedis",tooltip:"\u542F\u7528 Redis \u9AD8\u6027\u80FD\u6A21\u5F0F\uFF0C\u542F\u7528\u540E\u652F\u6301\u5206\u5E03\u5F0F\u90E8\u7F72",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{shouldUpdate:function(u,r){return u.enableRedis!==r.enableRedis},noStyle:!0,children:function(u){var r=u.getFieldValue;return r("enableRedis")?(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.redisConnectionString"}),name:"redisConnectionString",extra:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(D.ZP,{style:{marginTop:8},type:"primary",onClick:Be,children:a.formatMessage({id:"pages.setting.testConnect"})})}),children:(0,e.jsx)(M.Z,{placeholder:"127.0.0.1:6379,password=123,defaultDatabase=1,prefix=my_"})}):null}}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.maxCount"}),name:"maxCount",help:"\u4FDD\u7559\u6700\u5927\u4EFB\u52A1\u6570\uFF08-1\uFF1A\u4E0D\u9650\u5236\uFF09",children:(0,e.jsx)(x.Z,{min:-1})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.accountChooseRule"}),name:"accountChooseRule",children:(0,e.jsxs)(c.Z,{allowClear:!0,children:[(0,e.jsx)(c.Z.Option,{value:"BestWaitIdle",children:"BestWaitIdle"}),(0,e.jsx)(c.Z.Option,{value:"Random",children:"Random"}),(0,e.jsx)(c.Z.Option,{value:"Weight",children:"Weight"}),(0,e.jsx)(c.Z.Option,{value:"Polling",children:"Polling"})]})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.discordConfig"}),name:"ngDiscord",children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.proxyConfig"}),name:"proxy",children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.imageStorageType"}),name:"imageStorageType",children:(0,e.jsxs)(c.Z,{allowClear:!0,children:[(0,e.jsx)(c.Z.Option,{value:"NONE",children:"NULL"}),(0,e.jsx)(c.Z.Option,{value:"LOCAL",children:"LOCAL"}),(0,e.jsx)(c.Z.Option,{value:"OSS",children:"Aliyun OSS"}),(0,e.jsx)(c.Z.Option,{value:"COS",children:"Tencent COS"}),(0,e.jsx)(c.Z.Option,{value:"R2",children:"Cloudflare R2"}),(0,e.jsx)(c.Z.Option,{value:"S3",children:"S3 (MinIO)"})]})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.localStorage"}),name:"localStorage",children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.aliyunOss"}),name:"aliyunOss",children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.tencentCos"}),name:"tencentCos",children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.cloudflareR2"}),name:"cloudflareR2",tooltip:a.formatMessage({id:"pages.setting.cloudflareR2Tips"}),children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.s3Storage"}),name:"s3Storage",tooltip:a.formatMessage({id:"pages.setting.s3StorageTips"}),children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.replicate"}),name:"replicate",children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.translate"}),name:"translateWay",children:(0,e.jsxs)(c.Z,{allowClear:!0,children:[(0,e.jsx)(c.Z.Option,{value:"NULL",children:"NULL"}),(0,e.jsx)(c.Z.Option,{value:"BAIDU",children:"BAIDU"}),(0,e.jsx)(c.Z.Option,{value:"GPT",children:"GPT"})]})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.baiduTranslate"}),name:"baiduTranslate",children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.openai"}),name:"openai",children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.smtp"}),name:"smtp",children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.notifyHook"}),name:"notifyHook",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.notifyPoolSize"}),name:"notifyPoolSize",children:(0,e.jsx)(x.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.captchaServer"}),name:"captchaServer",help:a.formatMessage({id:"pages.setting.captchaServerTip"}),children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.captchaNotifyHook"}),name:"captchaNotifyHook",help:a.formatMessage({id:"pages.setting.captchaNotifyHookTip"}),children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.captchaNotifySecret"}),name:"captchaNotifySecret",help:a.formatMessage({id:"pages.setting.captchaNotifySecretTip"}),children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(s.Z.Item,{label:"\u542F\u7528\u98CE\u63A7\u81EA\u52A8\u9A8C\u8BC1",name:"enableRiskControlAutoCaptcha",tooltip:"\u9002\u7528\u4E8E\u5B98\u7F51 Cloudflare \u9A8C\u8BC1",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{shouldUpdate:function(u,r){return u.enableRiskControlAutoCaptcha!==r.enableRiskControlAutoCaptcha},noStyle:!0,children:function(u){var r=u.getFieldValue;return r("enableRiskControlAutoCaptcha")&&(0,e.jsx)(s.Z.Item,{label:"Yes Captcha Api Key",name:"twoCaptchaKey",tooltip:"https://yescaptcha.com/i/4pizLQ",extra:(0,e.jsx)("a",{href:"https://yescaptcha.com/i/4pizLQ",target:"_blank",rel:"noreferrer",children:"\u83B7\u53D6 Api Key"}),children:(0,e.jsx)(M.Z,{placeholder:"https://yescaptcha.com/i/4pizLQ"})})}}),(0,e.jsx)(s.Z.Item,{shouldUpdate:function(u,r){return u.enableRiskControlAutoCaptcha!==r.enableRiskControlAutoCaptcha},noStyle:!0,children:function(u){var r=u.getFieldValue;return r("enableRiskControlAutoCaptcha")&&(0,e.jsx)(s.Z.Item,{label:"\u98CE\u63A7\u9A8C\u8BC1\u6B21\u6570",name:"riskControlAutoCaptchaMaxCount",tooltip:"\u5F53\u65E5\u89E6\u53D1\u8D85\u8FC7\u591A\u5C11\u6B21\u9A8C\u8BC1\u540E\uFF0C\u8D26\u53F7\u81EA\u52A8\u7981\u7528",children:(0,e.jsx)(x.Z,{min:0,max:100,defaultValue:2})})}})]})}),(0,e.jsx)(R.Z,{span:12,children:(0,e.jsxs)(T.Z,{title:a.formatMessage({id:"pages.setting.otherSetting"}),bordered:!1,children:[(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableUpdateCheck"}),name:"enableUpdateCheck",help:a.formatMessage({id:"pages.setting.enableUpdateCheckTips"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:"\u66F4\u65B0\u5305\u6E90",name:"upgradePackageSource",help:"\u66F4\u65B0\u5305\u6765\u6E90\uFF0C\u56FD\u5185\u7528\u6237\u63A8\u8350\u4F7F\u7528\u963F\u91CC\u4E91\u5305\u6E90",children:(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(c.Z.Option,{value:"GITHUB",children:"GitHub"}),(0,e.jsx)(c.Z.Option,{value:"ALIYUN",children:"\u963F\u91CC\u4E91"})]})}),(0,e.jsx)(s.Z.Item,{label:"\u65E5\u5FD7\u7EA7\u522B",name:"logEventLevel",children:(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(c.Z.Option,{value:"Debug",children:"Debug"}),(0,e.jsx)(c.Z.Option,{value:"Information",children:"Information"}),(0,e.jsx)(c.Z.Option,{value:"Warning",children:"Warning"}),(0,e.jsx)(c.Z.Option,{value:"Error",children:"Error"})]})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.licenseKey"}),name:"licenseKey",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.isDemoMode"}),name:"isDemoMode",help:a.formatMessage({id:"pages.setting.isDemoModeTips"}),children:(0,e.jsx)(n.Z,{className:"demo-mode"})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableOfficial"}),name:"enableOfficial",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableYouChuan"}),name:"enableYouChuan",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableVideo"}),name:"enableVideo",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:"\u542F\u7528\u89C6\u9891\u5408\u6210",name:"enableVideoMerge",help:"\u542F\u7528\u540E\u89C6\u9891\u64CD\u4F5C\u65F6\uFF0C\u5C06\u6700\u7EC8\u89C6\u9891\u751F\u6210\u4E3A webp \u683C\u5F0F",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:"\u89C6\u9891\u5408\u5E76\u8D28\u91CF",name:"videoMergeQuality",help:"\u89C6\u9891\u5408\u6210 webp \u7684\u8D28\u91CF\uFF0C0 - 100\uFF0C\u9ED8\u8BA4\uFF1A75\uFF0C\u63A8\u8350 >= 50",children:(0,e.jsx)(x.Z,{min:0,max:100,defaultValue:75})}),(0,e.jsx)(s.Z.Item,{label:"\u542F\u7528\u7528\u6237\u7EDF\u8BA1",name:"enableUserDrawStatistics",help:"\u542F\u7528\u540E\u81EA\u52A8\u7EDF\u8BA1\u7528\u6237\u6BCF\u65E5\u7ED8\u56FE\u548C\u603B\u7ED8\u56FE\u6570\u91CF\uFF0C\u9ED8\u8BA4\uFF1A\u4E0D\u5F00\u542F",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:"\u81EA\u52A8\u6536\u5F55\u5B98\u7F51\u8FDD\u7981\u8BCD",name:"enableAutoCollectOfficialBannedWords",help:"\u542F\u7528\u540E\u81EA\u52A8\u6536\u5F55\u5B98\u7F51\u8FDD\u7981\u8BCD\u5230\u8FDD\u7981\u8BCD\u5E93",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:"\u81EA\u52A8\u6E05\u9664\u7528\u6237\u8FDD\u89C4\u8BCD",name:"enableAutoClearUserBannedWords",help:"\u7528\u6237\u89E6\u53D1\u8FDD\u89C4\u8BCD\u540E\uFF0C\u81EA\u52A8\u6E05\u9664\u7528\u6237\u7684\u63D0\u793A\u8BCD\u4E2D\u7684\u8FDD\u89C4\u8BCD",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:"\u8FD4\u56DE\u5B98\u65B9 cdn \u5730\u5740",name:"enableFillOfficialCdn",help:"\u7ED8\u56FE\u5B8C\u6210\u65F6\u5BF9 imageUrls \u548C videoUrls \u586B\u5145 cdn.midjourney.com \u7684\u5B98\u65B9 cdn \u5730\u5740",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableRegister"}),name:"enableRegister",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.registerUserDefaultDayLimit"}),name:"registerUserDefaultDayLimit",children:(0,e.jsx)(x.Z,{min:-1})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.registerUserDefaultTotalLimit"}),name:"registerUserDefaultTotalLimit",children:(0,e.jsx)(x.Z,{min:-1})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.registerUserDefaultCoreSize"}),name:"registerUserDefaultCoreSize",children:(0,e.jsx)(x.Z,{min:-1})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.registerUserDefaultQueueSize"}),name:"registerUserDefaultQueueSize",children:(0,e.jsx)(x.Z,{min:-1})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableGuest"}),name:"enableGuest",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.guestDefaultDayLimit"}),name:"guestDefaultDayLimit",children:(0,e.jsx)(x.Z,{min:-1})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.guestDefaultCoreSize"}),name:"guestDefaultCoreSize",children:(0,e.jsx)(x.Z,{min:-1})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.guestDefaultQueueSize"}),name:"guestDefaultQueueSize",children:(0,e.jsx)(x.Z,{min:-1})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.homeDisplayRealIP"}),name:"homeDisplayRealIP",valuePropName:"checked",help:a.formatMessage({id:"pages.setting.homeDisplayRealIP.tooltip"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.homeDisplayUserIPState"}),name:"homeDisplayUserIPState",valuePropName:"checked",help:a.formatMessage({id:"pages.setting.homeDisplayUserIPState.tooltip"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.homeTopCount"}),name:"homeTopCount",rules:[{type:"number",min:1,max:100,message:a.formatMessage({id:"pages.setting.homeTopCount.range"})}],help:a.formatMessage({id:"pages.setting.homeTopCount.tooltip"}),children:(0,e.jsx)(x.Z,{min:1,max:100,placeholder:a.formatMessage({id:"pages.setting.homeTopCount.placeholder"}),addonAfter:"\u6761"})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.consulOptions"}),name:"consulOptions",extra:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(D.ZP,{style:{marginTop:8},type:"primary",onClick:Ie,children:"\u9A8C\u8BC1\u5E76\u52A0\u8F7D\u8FDC\u7A0B Consul \u914D\u7F6E"})}),children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.bannedLimiting"}),name:"bannedLimiting",children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.ipRateLimiting"}),name:"ipRateLimiting",children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.ipBlackRateLimiting"}),name:"ipBlackRateLimiting",children:(0,e.jsx)(F,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.notify"}),name:"notify",children:(0,e.jsx)(M.Z.TextArea,{autoSize:{minRows:1,maxRows:10}})})]})})]}),(0,e.jsx)(N.Z,{gutter:16,style:{marginTop:"16px"},children:(0,e.jsx)(R.Z,{span:12,children:(0,e.jsxs)(T.Z,{title:a.formatMessage({id:"pages.setting.discordSetting"}),bordered:!1,children:[(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableAutoGetPrivateId"}),name:"enableAutoGetPrivateId",help:a.formatMessage({id:"pages.setting.enableAutoGetPrivateIdTips"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableAutoVerifyAccount"}),name:"enableAutoVerifyAccount",help:a.formatMessage({id:"pages.setting.enableAutoVerifyAccountTips"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableAutoExtendToken"}),name:"enableAutoExtendToken",help:a.formatMessage({id:"pages.setting.enableAutoExtendTokenTips"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableUserCustomUploadBase64"}),name:"enableUserCustomUploadBase64",help:a.formatMessage({id:"pages.setting.enableUserCustomUploadBase64Tips"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableSaveUserUploadBase64"}),name:"enableSaveUserUploadBase64",help:a.formatMessage({id:"pages.setting.enableSaveUserUploadBase64Tips"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableSaveUserUploadLink"}),name:"enableSaveUserUploadLink",help:a.formatMessage({id:"pages.setting.enableSaveUserUploadLinkTips"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableSaveGeneratedImage"}),name:"enableSaveGeneratedImage",help:a.formatMessage({id:"pages.setting.enableSaveGeneratedImageTips"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableSaveIntermediateImage"}),name:"enableSaveIntermediateImage",help:a.formatMessage({id:"pages.setting.enableSaveIntermediateImageTips"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableConvertOfficialLink"}),name:"enableConvertOfficialLink",help:a.formatMessage({id:"pages.setting.enableConvertOfficialLinkTips"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableMjTranslate"}),name:"enableMjTranslate",help:a.formatMessage({id:"pages.setting.enableMjTranslateTips"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableNijiTranslate"}),name:"enableNijiTranslate",help:a.formatMessage({id:"pages.setting.enableNijiTranslateTips"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableConvertNijiToMj"}),name:"enableConvertNijiToMj",help:a.formatMessage({id:"pages.setting.enableConvertNijiToMjTips"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableConvertNijiToNijiBot"}),name:"enableConvertNijiToNijiBot",help:a.formatMessage({id:"pages.setting.enableConvertNijiToNijiBotTips"}),children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:a.formatMessage({id:"pages.setting.enableAutoLogin"}),name:"enableAutoLogin",help:a.formatMessage({id:"pages.setting.enableAutoLoginTips"}),children:(0,e.jsx)(n.Z,{})})]})})}),(0,e.jsx)(N.Z,{gutter:16,style:{marginTop:"16px"},children:(0,e.jsx)(R.Z,{span:12,children:(0,e.jsxs)(T.Z,{title:"\u60A0\u8239/\u5B98\u7F51\u914D\u7F6E",bordered:!1,children:[(0,e.jsx)(s.Z.Item,{label:"\u8F6C\u6362\u60A0\u8239\u5B98\u7F51\u94FE\u63A5",name:"enableYouChuanPromptLink",help:"\u542F\u7528\u540E\u60A0\u8239\u7ED8\u56FE\u65F6\u5C06 prompt \u63D0\u793A\u8BCD\u4E2D\u7684\u94FE\u63A5\u8F6C\u4E3A\u60A0\u8239\u5B98\u7F51\u94FE\u63A5",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:"\u60A0\u8239\u5931\u8D25\u81EA\u52A8\u91CD\u8BD5",name:"enableYouChuanRetry",help:"\u542F\u7528\u540E\u60A0\u8239\u7ED8\u56FE\u5931\u8D25\u65F6\uFF08\u989D\u5EA6\u4E0D\u8DB3\u6216 Relax \u4E0A\u9650\uFF09\uFF0C\u81EA\u52A8\u4F7F\u7528\u5176\u4ED6\u8D26\u53F7\u91CD\u8BD5\u4EFB\u52A1",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:"\u60A0\u8239\u91CD\u542F\u7EE7\u7EED\u4EFB\u52A1",name:"enableYouChuanRestartContinue",help:"\u542F\u7528\u540E\u7A0B\u5E8F\u91CD\u542F\u540E\uFF0C\u7EE7\u7EED\u60A0\u8239\u672A\u5B8C\u6210\u7684\u4EFB\u52A1",children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)(s.Z.Item,{label:"\u542F\u7528\u60A0\u8239\u5185\u7F51\u4E0B\u8F7D",name:"enableYouChuanInternalDownload",help:"\u5F53\u7A0B\u5E8F\u90E8\u7F72\u5728\u963F\u91CC\u4E91\u4E0A\u6D77\u5730\u57DF\u65F6\uFF0C\u5982\u679C\u9700\u8981\u52A0\u901F\u4E0B\u8F7D\u56FE\u7247\u901F\u5EA6\uFF0C\u53EF\u4EE5\u5F00\u542F\u5185\u7F51\u4E0B\u8F7D\u529F\u80FD",children:(0,e.jsx)(n.Z,{})})]})})}),E&&E.privateFeatures&&E.privateFeatures.length>0&&(0,e.jsx)(N.Z,{gutter:16,style:{marginTop:"16px"},children:(0,e.jsx)(R.Z,{span:12,children:(0,e.jsxs)(T.Z,{title:"\u79C1\u4EBA\u5B9A\u5236",bordered:!1,children:[E.privateFeatures.includes("privateEnableYouChuanAllowU")&&(0,e.jsx)(s.Z.Item,{label:"\u59CB\u7EC8\u5141\u8BB8\u653E\u5927",name:"privateEnableYouChuanAllowU",help:"\u60A0\u8239/\u5B98\u65B9\u4E0D\u5224\u65AD\u8D26\u53F7\u662F\u5426\u6709\u989D\u5EA6\uFF0C\u59CB\u7EC8\u5141\u8BB8 U \u653E\u5927",children:(0,e.jsx)(n.Z,{})}),E.privateFeatures.includes("privateEnableYouChuanMergedCustomize")&&(0,e.jsx)(s.Z.Item,{label:"\u5408\u6210\u56FE\u7247\u81EA\u5B9A\u4E49\u8DEF\u5F84",name:"privateEnableYouChuanMergedCustomize",help:"\u60A0\u8239/\u5B98\u65B9\u81EA\u5B9A\u4E49\u8DEF\u5F84\u89C4\u5219: \u670D\u52A1\u5668id/\u9891\u9053id/\u63D0\u793A\u8BCD_uuid.png",children:(0,e.jsx)(n.Z,{})}),E.privateFeatures.includes("privateEnableYouChuanCustomLinkConvert")&&(0,e.jsx)(s.Z.Item,{label:"\u81EA\u5B9A\u4E49\u8FD4\u56DE\u94FE\u63A5",name:"privateEnableYouChuanCustomLinkConvert",help:"\u8BF7\u6C42\u5934 x-storage-options: 1 | 2, 1: \u8FD4\u56DE\u5B98\u65B9\u94FE\u63A5, 2: \u8FD4\u56DE\u5408\u4F5C\u5546\u94FE\u63A5",children:(0,e.jsx)(n.Z,{})}),E.privateFeatures.includes("privateKeepFinalPromptRequestSpeedMode")&&(0,e.jsx)(s.Z.Item,{label:"\u4FDD\u6301\u7528\u6237\u8BF7\u6C42\u901F\u5EA6",name:"privateKeepFinalPromptRequestSpeedMode",help:"\u5F53\u8BF7\u6C42\u901F\u5EA6\u6A21\u5F0F\u4E0E\u6700\u7EC8\u901F\u5EA6\u6A21\u5F0F\u4E0D\u4E00\u81F4\u65F6\uFF0C\u6700\u7EC8\u63D0\u793A\u8BCD\u4E2D\u7684\u901F\u5EA6\u4F7F\u7528\u7528\u6237\u8BF7\u6C42\u7684\u901F\u5EA6\u6A21\u5F0F",children:(0,e.jsx)(n.Z,{})}),E.privateFeatures.includes("privateEnableOfficialPersonalize")&&(0,e.jsx)(s.Z.Item,{label:"\u5F00\u542F\u5B98\u65B9\u4E2A\u6027\u5316\u914D\u7F6E",name:"privateEnableOfficialPersonalize",help:"\u5F00\u542F\u540E\u5B98\u65B9\u8D26\u53F7\u53EF\u4F7F\u7528\u4E2A\u6027\u5316\u914D\u7F6E API",children:(0,e.jsx)(n.Z,{})}),E.privateFeatures.includes("privateRemoveRequestSpeedMode")&&(0,e.jsx)(s.Z.Item,{label:"\u79FB\u9664\u8BF7\u6C42\u901F\u5EA6\u53C2\u6570",name:"privateRemoveRequestSpeedMode",help:"\u5F53\u7528\u6237\u6CA1\u6709\u6307\u5B9A\u3001\u6CA1\u6709\u63D0\u4EA4\u3001\u6CA1\u6709\u8DEF\u5F84\u7B49\u5305\u542B\u901F\u5EA6\u6A21\u5F0F\u65F6\uFF0C\u79FB\u9664\u6700\u7EC8\u63D0\u4EA4\u4EFB\u52A1\u7684\u901F\u5EA6\u53C2\u6570",children:(0,e.jsx)(n.Z,{})})]})})})]})})})},be=Ee}}]);
