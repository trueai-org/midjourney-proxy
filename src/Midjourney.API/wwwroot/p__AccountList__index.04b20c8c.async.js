"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[201],{2891:function(la,Me,l){l.r(Me),l.d(Me,{default:function(){return aa}});var be=l(15009),x=l.n(be),Se=l(99289),$=l.n(Se),Ce=l(5574),p=l.n(Ce),V=l(66927),oe=l(16568),Ie=l(86738),E=l(14726),ye=l(82061),d=l(67294),ne=l(80854),e=l(85893),we=function(j){var M=j.record,r=j.onSuccess,t=(0,d.useState)(!1),s=p()(t,2),T=s[0],I=s[1],N=(0,d.useState)(!1),k=p()(N,2),U=k[0],H=k[1],C=oe.ZP.useNotification(),J=p()(C,2),z=J[0],q=J[1],L=(0,ne.useIntl)(),Y=function(){I(!0)},K=function(){var R=$()(x()().mark(function D(){var S;return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return H(!0),i.prev=1,i.next=4,(0,V.tm)(M.id);case 4:S=i.sent,I(!1),S.success?(z.success({message:"success",description:L.formatMessage({id:"pages.account.deleteSuccess"})}),r()):z.error({message:"error",description:S.message}),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(1),console.error(i.t0);case 12:return i.prev=12,H(!1),i.finish(12);case 15:case"end":return i.stop()}},D,null,[[1,9,12,15]])}));return function(){return R.apply(this,arguments)}}(),ee=function(){I(!1)};return(0,e.jsxs)(Ie.Z,{title:L.formatMessage({id:"pages.account.delete"}),description:L.formatMessage({id:"pages.account.deleteTitle"}),open:T,onConfirm:K,okButtonProps:{loading:U},onCancel:ee,children:[q,(0,e.jsx)(E.ZP,{danger:!0,icon:(0,e.jsx)(ye.Z,{}),onClick:Y})]})},Te=we,de=l(98165),ke=function(j){var M=j.record,r=j.onSuccess,t=(0,d.useState)(!1),s=p()(t,2),T=s[0],I=s[1],N=(0,d.useState)(!1),k=p()(N,2),U=k[0],H=k[1],C=oe.ZP.useNotification(),J=p()(C,2),z=J[0],q=J[1],L=(0,ne.useIntl)(),Y=function(){I(!0)},K=function(){var R=$()(x()().mark(function D(){var S;return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return H(!0),i.prev=1,i.next=4,(0,V.Je)(M.id);case 4:S=i.sent,console.log("resss",S),I(!1),S.success?(z.success({message:"success",description:L.formatMessage({id:"pages.account.syncSuccess"})}),r()):(z.error({message:"error",description:S.message}),r()),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),console.error(i.t0);case 13:return i.prev=13,H(!1),i.finish(13);case 16:case"end":return i.stop()}},D,null,[[1,10,13,16]])}));return function(){return R.apply(this,arguments)}}(),ee=function(){I(!1)};return(0,e.jsxs)(Ie.Z,{title:L.formatMessage({id:"pages.account.sync"}),description:L.formatMessage({id:"pages.account.syncTitle"}),open:T,onConfirm:K,okButtonProps:{loading:U},onCancel:ee,children:[q,(0,e.jsx)(E.ZP,{icon:(0,e.jsx)(de.Z,{}),onClick:Y})]})},Ae=ke,a=l(53025),me=l(71230),_=l(15746),F=l(4393),u=l(55102),O=l(72269),b=l(74656),Z=l(37804),ie=l(42075),Oe=function(j){var M=j.form,r=j.onSubmit,t=(0,ne.useIntl)();(0,d.useEffect)(function(){M.setFieldsValue({userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36",coreSize:3,queueSize:10,timeoutMinutes:5})});var s=(0,d.useState)([]),T=p()(s,2),I=T[0],N=T[1];return(0,d.useEffect)(function(){(0,V.fl)().then(function(k){k.success&&N(k.data)})},[]),(0,e.jsx)(a.Z,{form:M,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:r,children:(0,e.jsxs)(me.Z,{gutter:16,children:[(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(F.Z,{type:"inner",title:t.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.guildId"}),name:"guildId",rules:[{required:!0}],children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.channelId"}),name:"channelId",rules:[{required:!0}],children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.userToken"}),name:"userToken",rules:[{required:!0}],children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.botToken"}),name:"botToken",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:"User Agent",name:"userAgent",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.enable"}),name:"enable",valuePropName:"checked",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.mode"}),name:"mode",children:(0,e.jsxs)(b.Z,{allowClear:!0,children:[(0,e.jsx)(b.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(b.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(b.Z.Option,{value:"TURBO",children:"TURBO"})]})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.allowModes"}),name:"allowModes",children:(0,e.jsxs)(b.Z,{allowClear:!0,mode:"multiple",children:[(0,e.jsx)(b.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(b.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(b.Z.Option,{value:"TURBO",children:"TURBO"})]})})]})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(F.Z,{type:"inner",title:t.formatMessage({id:"pages.account.poolsize"}),children:[(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.coreSize"}),name:"coreSize",children:(0,e.jsx)(Z.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.queueSize"}),name:"queueSize",children:(0,e.jsx)(Z.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.maxQueueSize"}),name:"maxQueueSize",children:(0,e.jsx)(Z.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.interval"}),name:"interval",children:(0,e.jsx)(Z.Z,{min:1.2})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.intervalAfter"}),children:(0,e.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,e.jsxs)(ie.Z,{children:[(0,e.jsx)(a.Z.Item,{name:"afterIntervalMin",style:{margin:0},children:(0,e.jsx)(Z.Z,{min:1.2,placeholder:"Min"})}),"~",(0,e.jsx)(a.Z.Item,{name:"afterIntervalMax",style:{margin:0},children:(0,e.jsx)(Z.Z,{min:1.2,placeholder:"Max"})})]})})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(Z.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableMj"}),name:"enableMj",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableNiji"}),name:"enableNiji",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isBlend"}),name:"isBlend",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isDescribe"}),name:"isDescribe",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.dayDrawLimit"}),name:"dayDrawLimit",children:(0,e.jsx)(Z.Z,{min:-1})})]})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(F.Z,{type:"inner",title:t.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.permanentInvitationLink"}),name:"permanentInvitationLink",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isVerticalDomain"}),name:"isVerticalDomain",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.verticalDomainIds"}),name:"verticalDomainIds",children:(0,e.jsx)(b.Z,{options:I,allowClear:!0,mode:"multiple"})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(Z.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(Z.Z,{min:1,suffix:t.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.workTime"}),name:"workTime",children:(0,e.jsx)(u.Z,{placeholder:"09:00-17:00, 18:00-22:00"})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.fishingTime"}),help:t.formatMessage({id:"pages.account.fishingTimeTips"}),name:"fishingTime",children:(0,e.jsx)(u.Z,{placeholder:"23:30-09:00, 00:00-10:00"})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.subChannels"}),name:"subChannels",help:t.formatMessage({id:"pages.account.subChannelsHelp"}),children:(0,e.jsx)(u.Z.TextArea,{placeholder:"https://discord.com/channels/xxx/xxx",autoSize:{minRows:1,maxRows:10}})})]})})]})})},Re=Oe,De=function(j){var M=j.form,r=j.onSubmit,t=j.record,s=(0,ne.useIntl)(),T=oe.ZP.useNotification(),I=p()(T,2),N=I[0],k=I[1],U=(0,d.useState)(),H=p()(U,2),C=H[0],J=H[1],z=(0,d.useState)(!1),q=p()(z,2),L=q[0],Y=q[1];(0,d.useEffect)(function(){J(t)},[]);var K=function(){var R=$()(x()().mark(function D(){var S;return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Y(!0),i.next=3,(0,V.qG)(t.id);case 3:S=i.sent,Y(!1),S.success&&J(S.data);case 6:case"end":return i.stop()}},D)}));return function(){return R.apply(this,arguments)}}(),ee=function(){var R=$()(x()().mark(function D(){var S;return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Y(!0),i.next=3,(0,V.eD)(t.id);case 3:S=i.sent,Y(!1),S.success&&(N.success({message:"success",description:"Success"}),r(C));case 6:case"end":return i.stop()}},D)}));return function(){return R.apply(this,arguments)}}();return(0,e.jsxs)(a.Z,{form:M,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:r,children:[k,(0,e.jsx)(me.Z,{gutter:16,children:(0,e.jsxs)(_.Z,{span:24,style:{padding:12},children:[C&&(0,e.jsx)("a",{target:"_blank",rel:"noreferrer",href:C==null?void 0:C.cfUrl,children:(C==null?void 0:C.cfUrl)||"-"}),(0,e.jsx)("br",{}),(0,e.jsxs)(ie.Z,{style:{marginTop:12},children:[(0,e.jsx)(E.ZP,{onClick:K,loading:L,type:"default",children:s.formatMessage({id:"pages.account.cfRefresh"})}),(0,e.jsx)(E.ZP,{onClick:ee,loading:L,type:"primary",children:s.formatMessage({id:"pages.account.cfok"})})]})]})})]})},Be=De,le=l(66309),ce=l(83062),m=l(26412),Fe=l(27484),Ne=l.n(Fe),Ue=b.Z.Option,Le=function(j){var M,r=j.record,t=j.onSuccess,s=oe.ZP.useNotification(),T=p()(s,2),I=T[0],N=T[1],k=(0,d.useState)(""),U=p()(k,2),H=U[0],C=U[1],J=(0,d.useState)([]),z=p()(J,2),q=z[0],L=z[1],Y=(0,d.useState)([]),K=p()(Y,2),ee=K[0],R=K[1],D=(0,d.useState)(!1),S=p()(D,2),X=S[0],i=S[1],ge=(0,d.useState)(""),ae=p()(ge,2),ue=ae[0],fe=ae[1],o=(0,ne.useIntl)();(0,d.useEffect)(function(){C(r.version),L(r.buttons),R(r.nijiButtons)},[r]);var pe=function(c,y,G){var Q=c?"green":"volcano",A=c?y:G;return(0,e.jsx)(le.Z,{color:Q,children:A})},P=function(c){return!c||c.length<25?c:(0,e.jsx)(ce.Z,{title:c,children:c.substring(0,25)+"..."})},g=function(c){return Ne()(c).format("YYYY-MM-DD HH:mm")},xe=function(){var c;return(c=r.versionSelector)===null||c===void 0?void 0:c.map(function(y){return(0,e.jsxs)(Ue,{value:y.customId,children:[y.emoji," ",y.label]},y.customId)})},he=function(){return q.map(function(c){return(0,e.jsxs)(E.ZP,{ghost:!0,style:{backgroundColor:c.style==3?"#258146":"rgb(131 133 142)"},onClick:function(){je("MID_JOURNEY",c.customId)},loading:ue=="MID_JOURNEY:"+c.customId,children:[c.emoji," ",c.label]},"MID_JOURNEY:"+c.customId)})},Ze=function(){return ee.map(function(c){return(0,e.jsxs)(E.ZP,{ghost:!0,style:{backgroundColor:c.style==3?"#258146":"rgb(131 133 142)"},onClick:function(){je("NIJI_JOURNEY",c.customId)},loading:ue=="NIJI_JOURNEY:"+c.customId,children:[c.emoji," ",c.label]},"NIJI_JOURNEY:"+c.customId)})},ve=function(){var W=$()(x()().mark(function c(y){var G;return x()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return C(y),i(!0),A.next=4,(0,V.p3)(r.id,y);case 4:G=A.sent,G.success?(i(!1),I.success({message:"success",description:o.formatMessage({id:"pages.account.mjVersionSuccess"})}),t()):(C(r.version),i(!1),I.error({message:"error",description:G.message}));case 6:case"end":return A.stop()}},c)}));return function(y){return W.apply(this,arguments)}}(),je=function(){var W=$()(x()().mark(function c(y,G){var Q;return x()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(ue===""){se.next=2;break}return se.abrupt("return");case 2:return fe(y+":"+G),se.next=5,(0,V.wO)(r.id,y,G);case 5:Q=se.sent,fe(""),Q.success?t():I.error({message:"error",description:Q.message});case 8:case"end":return se.stop()}},c)}));return function(y,G){return W.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[N,(0,e.jsx)(F.Z,{type:"inner",title:o.formatMessage({id:"pages.account.info"}),style:{margin:"5px"},children:(0,e.jsxs)(m.Z,{column:3,children:[(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.guildId"}),children:r.guildId}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.channelId"}),children:r.channelId}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.userToken"}),children:P(r.userToken)}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.botToken"}),children:P(r.botToken)}),(0,e.jsxs)(m.Z.Item,{label:"User Agent",children:[P(r.userAgent)," "]}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.remixAutoSubmit"}),children:pe(r.remixAutoSubmit,o.formatMessage({id:"pages.yes"}),o.formatMessage({id:"pages.no"}))}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.mjChannelId"}),children:r.privateChannelId}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.nijiChannelId"}),children:r.nijiBotChannelId})]})}),(0,e.jsx)(F.Z,{type:"inner",title:o.formatMessage({id:"pages.account.basicInfo"}),style:{margin:"5px"},children:(0,e.jsxs)(m.Z,{column:3,children:[(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.status"}),children:pe(r.enable,o.formatMessage({id:"pages.enable"}),o.formatMessage({id:"pages.disable"}))}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.mjMode"}),children:r.displays.mode}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.nijiMode"}),children:r.displays.nijiMode}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.subscribePlan"}),children:r.displays.subscribePlan}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.billedWay"}),children:r.displays.billedWay}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.renewDate"}),children:r.displays.renewDate}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.fastTimeRemaining"}),children:r.fastTimeRemaining}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.relaxedUsage"}),children:r.relaxedUsage}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.fastUsage"}),children:r.fastUsage}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.turboUsage"}),children:r.turboUsage}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.lifetimeUsage"}),children:r.lifetimeUsage})]})}),(0,e.jsx)(F.Z,{type:"inner",title:o.formatMessage({id:"pages.account.otherInfo"}),style:{margin:"5px"},children:(0,e.jsxs)(m.Z,{column:3,children:[(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.coreSize"}),children:r.coreSize}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.queueSize"}),children:r.queueSize}),(0,e.jsxs)(m.Z.Item,{label:o.formatMessage({id:"pages.account.timeoutMinutes"}),children:[r.timeoutMinutes," ",o.formatMessage({id:"pages.minutes"})]}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.weight"}),children:r.weight}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.dateCreated"}),children:g(r.dateCreated)}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.remark"}),children:P(r.remark)}),(0,e.jsx)(m.Z.Item,{label:o.formatMessage({id:"pages.account.disabledReason"}),children:P(r.disabledReason)})]})}),(0,e.jsxs)(F.Z,{type:"inner",title:o.formatMessage({id:"pages.account.mjSettings"}),style:{margin:"5px"},children:[(0,e.jsx)(b.Z,{style:{width:"35%"},placeholder:(M=r.versionSelector)===null||M===void 0?void 0:M.placeholder,value:H,onChange:ve,loading:X,children:xe()}),(0,e.jsx)(ie.Z,{wrap:!0,style:{marginTop:"5px"},children:he()})]}),(0,e.jsx)(F.Z,{type:"inner",title:o.formatMessage({id:"pages.account.nijiSettings"}),style:{margin:"5px"},children:(0,e.jsx)(ie.Z,{wrap:!0,style:{marginTop:"5px"},children:Ze()})})]})},Pe=Le,Ee=l(40056),ze=function(j){var M=j.form,r=j.onSubmit,t=j.record,s=(0,ne.useIntl)();(0,d.useEffect)(function(){M.setFieldsValue(t)});var T=(0,d.useState)([]),I=p()(T,2),N=I[0],k=I[1];return(0,d.useEffect)(function(){(0,V.fl)().then(function(U){U.success&&k(U.data)})},[]),(0,e.jsxs)(a.Z,{form:M,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:r,children:[(0,e.jsxs)(me.Z,{gutter:16,children:[(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(F.Z,{type:"inner",title:s.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.guildId"}),name:"guildId",rules:[{required:!0}],children:(0,e.jsx)(u.Z,{disabled:!0})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.channelId"}),name:"channelId",rules:[{required:!0}],children:(0,e.jsx)(u.Z,{disabled:!0})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.userToken"}),name:"userToken",rules:[{required:!0}],children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.botToken"}),name:"botToken",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:"User Agent",name:"userAgent",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.enable"}),name:"enable",valuePropName:"checked",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.mode"}),name:"mode",children:(0,e.jsxs)(b.Z,{allowClear:!0,children:[(0,e.jsx)(b.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(b.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(b.Z.Option,{value:"TURBO",children:"TURBO"})]})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.allowModes"}),name:"allowModes",tooltip:"\u5982\u679C\u7528\u6237\u6307\u5B9A\u6A21\u5F0F\u6216\u6DFB\u52A0\u4E86\u81EA\u5B9A\u4E49\u53C2\u6570\u4F8B\u5982 --fast\uFF0C\u4F46\u662F\u8D26\u53F7\u4E0D\u5141\u8BB8 FAST\uFF0C\u5219\u81EA\u52A8\u79FB\u9664\u6B64\u53C2\u6570",children:(0,e.jsxs)(b.Z,{allowClear:!0,mode:"multiple",children:[(0,e.jsx)(b.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(b.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(b.Z.Option,{value:"TURBO",children:"TURBO"})]})})]})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(F.Z,{type:"inner",title:s.formatMessage({id:"pages.account.poolsize"}),children:[(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.coreSize"}),name:"coreSize",children:(0,e.jsx)(Z.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.queueSize"}),name:"queueSize",children:(0,e.jsx)(Z.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.maxQueueSize"}),name:"maxQueueSize",children:(0,e.jsx)(Z.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.interval"}),name:"interval",children:(0,e.jsx)(Z.Z,{min:1.2})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.intervalAfter"}),children:(0,e.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,e.jsxs)(ie.Z,{children:[(0,e.jsx)(a.Z.Item,{name:"afterIntervalMin",style:{margin:0},children:(0,e.jsx)(Z.Z,{min:1.2,placeholder:"Min"})}),"~",(0,e.jsx)(a.Z.Item,{name:"afterIntervalMax",style:{margin:0},children:(0,e.jsx)(Z.Z,{min:1.2,placeholder:"Max"})})]})})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(Z.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableMj"}),name:"enableMj",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableNiji"}),name:"enableNiji",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isBlend"}),name:"isBlend",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isDescribe"}),name:"isDescribe",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.dayDrawLimit"}),name:"dayDrawLimit",extra:t.dayDrawCount>0&&(0,e.jsxs)("span",{children:[s.formatMessage({id:"pages.account.dayDrawCount"})," ",t.dayDrawCount]}),children:(0,e.jsx)(Z.Z,{min:-1})})]})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(F.Z,{type:"inner",title:s.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.permanentInvitationLink"}),name:"permanentInvitationLink",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isVerticalDomain"}),name:"isVerticalDomain",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.verticalDomainIds"}),name:"verticalDomainIds",children:(0,e.jsx)(b.Z,{options:N,allowClear:!0,mode:"multiple"})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(Z.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(Z.Z,{min:1,suffix:s.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.workTime"}),name:"workTime",children:(0,e.jsx)(u.Z,{placeholder:"09:00-17:00, 18:00-22:00"})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.fishingTime"}),help:s.formatMessage({id:"pages.account.fishingTimeTips"}),name:"fishingTime",children:(0,e.jsx)(u.Z,{placeholder:"23:30-09:00, 00:00-10:00"})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.subChannels"}),name:"subChannels",help:s.formatMessage({id:"pages.account.subChannelsHelp"}),children:(0,e.jsx)(u.Z.TextArea,{placeholder:"https://discord.com/channels/xxx/xxx",autoSize:{minRows:1,maxRows:10}})})]})})]}),(0,e.jsx)(Ee.Z,{message:s.formatMessage({id:"pages.account.updateNotice"}),type:"warning",style:{marginTop:"10px"}})]})},$e=ze,Ve=function(j){var M=j.form,r=j.onSubmit,t=j.record,s=(0,ne.useIntl)();return(0,d.useEffect)(function(){M.setFieldsValue(t)}),(0,e.jsx)(a.Z,{form:M,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:r,children:(0,e.jsxs)(me.Z,{gutter:16,children:[(0,e.jsx)(_.Z,{span:12,children:(0,e.jsxs)(F.Z,{type:"inner",title:s.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(O.Z,{})})]})}),(0,e.jsx)(_.Z,{span:12,children:(0,e.jsxs)(F.Z,{type:"inner",title:s.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(Z.Z,{min:1,suffix:s.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(Z.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(u.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(Z.Z,{})})]})})]})})},He=Ve,Je=l(94149),Ye=l(66212),Xe=l(3355),We=l(2830),Ge=l(47389),Qe=l(88360),Ke=l(90930),qe=l(72051),_e=l(28248),ea=function(){var j=(0,d.useState)(!1),M=p()(j,2),r=M[0],t=M[1],s=(0,d.useState)(!1),T=p()(s,2),I=T[0],N=T[1],k=(0,d.useState)((0,e.jsx)(e.Fragment,{})),U=p()(k,2),H=U[0],C=U[1],J=(0,d.useState)(""),z=p()(J,2),q=z[0],L=z[1],Y=(0,d.useState)(1e3),K=p()(Y,2),ee=K[0],R=K[1],D=a.Z.useForm(),S=p()(D,1),X=S[0],i=oe.ZP.useNotification(),ge=p()(i,2),ae=ge[0],ue=ge[1],fe=(0,d.useState)(!1),o=p()(fe,2),pe=o[0],P=o[1],g=(0,ne.useIntl)(),xe=(0,d.useState)([]),he=p()(xe,2),Ze=he[0],ve=he[1],je=(0,d.useState)(!1),W=p()(je,2),c=W[0],y=W[1],G=function(){var v=$()(x()().mark(function h(){var n;return x()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return y(!0),B.next=3,(0,V.Ed)();case 3:n=B.sent,ve(n),y(!1);case 6:case"end":return B.stop()}},h)}));return function(){return v.apply(this,arguments)}}(),Q=function(h,n,f){X.resetFields(),L(h),C(n),R(f),t(!0)},A=function(){C((0,e.jsx)(e.Fragment,{})),t(!1),N(!1)},se=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E.ZP,{onClick:A,children:g.formatMessage({id:"pages.cancel"})},"back"),(0,e.jsx)(E.ZP,{type:"primary",loading:pe,onClick:function(){return X.submit()},children:g.formatMessage({id:"pages.submit"})},"submit")]}),te=function(){A(),G()},sa=function(){var v=$()(x()().mark(function h(n){var f;return x()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return n.subChannels||(n.subChannels=[]),typeof n.subChannels=="string"&&(n.subChannels=n.subChannels.split(`
`)),P(!0),w.next=5,(0,V.o1)(n);case 5:f=w.sent,P(!1),console.log("res",f),f.success?(ae.success({message:"success",description:f.message}),A(),te()):ae.error({message:"error",description:f.message});case 9:case"end":return w.stop()}},h)}));return function(n){return v.apply(this,arguments)}}(),na=function(){var v=$()(x()().mark(function h(n){var f;return x()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return n.subChannels||(n.subChannels=[]),typeof n.subChannels=="string"&&(n.subChannels=n.subChannels.split(`
`)),P(!0),w.next=5,(0,V.MS)(n.id,n);case 5:f=w.sent,f.success?(ae.success({message:"success",description:f.message}),A(),te(),P(!1)):ae.error({message:"error",description:f.message});case 7:case"end":return w.stop()}},h)}));return function(n){return v.apply(this,arguments)}}(),ta=function(){var v=$()(x()().mark(function h(n){var f;return x()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return n.subChannels||(n.subChannels=[]),typeof n.subChannels=="string"&&(n.subChannels=n.subChannels.split(`
`)),P(!0),w.next=5,(0,V.Vx)(n.id,n);case 5:f=w.sent,f.success?ae.success({message:"success",description:f.message}):ae.error({message:"error",description:f.message}),A(),te(),P(!1);case 10:case"end":return w.stop()}},h)}));return function(n){return v.apply(this,arguments)}}(),ra=function(){var v=$()(x()().mark(function h(){return x()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:P(!0),A(),te(),P(!1);case 4:case"end":return f.stop()}},h)}));return function(){return v.apply(this,arguments)}}(),ia=[{title:g.formatMessage({id:"pages.account.guildId"}),dataIndex:"guildId",width:200,align:"center",render:function(h,n){return(0,e.jsx)("a",{onClick:function(){N(!0),Q(g.formatMessage({id:"pages.account.info"})+" - "+n.id,(0,e.jsx)(Pe,{record:n,onSuccess:te}),1100)},children:h})}},{title:g.formatMessage({id:"pages.account.channelId"}),dataIndex:"channelId",align:"center",width:200},{title:"".concat(g.formatMessage({id:"pages.account.status"})),dataIndex:"enable",width:200,align:"center",request:function(){var v=$()(x()().mark(function n(){return x()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",[{label:g.formatMessage({id:"pages.enable"}),value:"true"},{label:g.formatMessage({id:"pages.disable"}),value:"false"}]);case 1:case"end":return B.stop()}},n)}));function h(){return v.apply(this,arguments)}return h}(),render:function(h,n){var f=h?"green":"volcano",B=h?g.formatMessage({id:"pages.enable"}):g.formatMessage({id:"pages.disable"});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(le.Z,{color:f,children:B}),n.lock&&(0,e.jsx)(le.Z,{icon:(0,e.jsx)(Je.Z,{}),color:"warning",children:(0,e.jsx)(ce.Z,{title:g.formatMessage({id:"pages.account.lockmsg"}),children:g.formatMessage({id:"pages.account.lock"})})}),h&&!n.running&&!n.lock&&(0,e.jsx)(le.Z,{icon:(0,e.jsx)(de.Z,{}),color:"error",children:g.formatMessage({id:"pages.account.notRunning"})}),(n==null?void 0:n.runningCount)>0&&(0,e.jsx)(le.Z,{icon:(0,e.jsx)(de.Z,{spin:!0}),color:"cyan",children:(0,e.jsx)(ce.Z,{title:g.formatMessage({id:"pages.account.runningCount"})+" "+n.runningCount,children:(n==null?void 0:n.runningCount)||0})}),(n==null?void 0:n.queueCount)>0&&(0,e.jsx)(le.Z,{icon:(0,e.jsx)(Ye.Z,{}),color:"processing",children:(0,e.jsx)(ce.Z,{title:g.formatMessage({id:"pages.account.queueCount"})+" "+n.queueCount,children:n.queueCount||0})})]})}},{title:g.formatMessage({id:"pages.account.fastTimeRemaining"}),dataIndex:"fastTimeRemaining",ellipsis:!0,width:200,hideInSearch:!0,align:"center"},{title:g.formatMessage({id:"pages.account.renewDate"}),dataIndex:"renewDate",align:"center",width:160,hideInSearch:!0,render:function(h,n){return n.displays.renewDate}},{title:g.formatMessage({id:"pages.account.sponsor"}),dataIndex:"sponsor",ellipsis:!0,width:100,render:function(h,n){return(0,e.jsx)("div",{dangerouslySetInnerHTML:{__html:n.sponsor||"-"}})}},{title:g.formatMessage({id:"pages.account.remark"}),dataIndex:"remark",ellipsis:!0,width:150},{title:g.formatMessage({id:"pages.account.disabledReason"}),dataIndex:"disabledReason",ellipsis:!0,width:150,hideInSearch:!0},{title:g.formatMessage({id:"pages.operation"}),dataIndex:"operation",width:220,key:"operation",fixed:"right",align:"center",hideInSearch:!0,render:function(h,n){return(0,e.jsxs)(ie.Z,{children:[n.lock&&(0,e.jsx)(E.ZP,{icon:(0,e.jsx)(Xe.Z,{}),type:"dashed",onClick:function(){return Q(g.formatMessage({id:"pages.account.cfmodal"}),(0,e.jsx)(Be,{form:X,record:n,onSubmit:ra}),1e3)}},"Lock"),(0,e.jsx)(Ae,{record:n,onSuccess:te}),(0,e.jsx)(ce.Z,{title:g.formatMessage({id:"pages.account.updateAndReconnect"}),children:(0,e.jsx)(E.ZP,{type:"primary",icon:(0,e.jsx)(We.Z,{}),onClick:function(){return Q(g.formatMessage({id:"pages.account.updateAndReconnect"}),(0,e.jsx)($e,{form:X,record:n,onSubmit:na}),1600)}},"EditAndReconnect")}),(0,e.jsx)(E.ZP,{icon:(0,e.jsx)(Ge.Z,{}),onClick:function(){return Q(g.formatMessage({id:"pages.account.update"}),(0,e.jsx)(He,{form:X,record:n,onSubmit:ta}),1e3)}},"Update"),(0,e.jsx)(Te,{record:n,onSuccess:te})]})}}];return(0,d.useEffect)(function(){G()},[]),(0,e.jsxs)(Ke._z,{children:[ue,(0,e.jsxs)(F.Z,{children:[(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:16},children:[(0,e.jsx)(E.ZP,{type:"primary",icon:(0,e.jsx)(Qe.Z,{}),onClick:function(){Q(g.formatMessage({id:"pages.account.add"}),(0,e.jsx)(Re,{form:X,onSubmit:sa}),1600)},children:g.formatMessage({id:"pages.add"})},"primary"),(0,e.jsx)(E.ZP,{type:"default",style:{marginLeft:8},icon:(0,e.jsx)(de.Z,{}),onClick:function(){te()}})]}),(0,e.jsx)(qe.Z,{scroll:{x:1e3},rowKey:"id",columns:ia,dataSource:Ze,loading:c,pagination:!1})]}),(0,e.jsx)(_e.Z,{title:q,open:r,onCancel:A,footer:I?null:se,width:ee,children:H})]})},aa=ea}}]);
