"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[579],{47389:function(F,j,a){var v=a(1413),h=a(67294),x=a(27363),c=a(91146),f=function(m,S){return h.createElement(c.Z,(0,v.Z)((0,v.Z)({},m),{},{ref:S,icon:x.Z}))},g=h.forwardRef(f);j.Z=g},88360:function(F,j,a){a.d(j,{Z:function(){return m}});var v=a(1413),h=a(67294),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"},c=x,f=a(91146),g=function(d,O){return h.createElement(f.Z,(0,v.Z)((0,v.Z)({},d),{},{ref:O,icon:c}))},I=h.forwardRef(g),m=I},87707:function(F,j,a){a.r(j),a.d(j,{default:function(){return ve}});var v=a(97857),h=a.n(v),x=a(15009),c=a.n(x),f=a(99289),g=a.n(f),I=a(5574),m=a.n(I),S=a(27986),d=a(53025),O=a(71230),w=a(15746),W=a(4393),p=a(55102),C=a(74656),se=a(72269),te=a(37804),M=a(67294),G=a(80854),e=a(85893),ne=function(D){var A=D.form,$=D.onSubmit,E=D.record,i=(0,G.useIntl)(),L=(0,M.useState)(!1),R=m()(L,2),b=R[0],T=R[1];return(0,M.useEffect)(function(){A.setFieldsValue(E),E.id=="admin"?T(!0):T(!1),console.log("record",E)}),(0,e.jsx)(d.Z,{form:A,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:$,children:(0,e.jsxs)(O.Z,{gutter:16,children:[(0,e.jsx)(w.Z,{span:12,children:(0,e.jsxs)(W.Z,{type:"inner",children:[(0,e.jsx)(d.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,e.jsx)(p.Z,{})}),(0,e.jsx)(d.Z.Item,{required:!0,label:i.formatMessage({id:"pages.user.name"}),name:"name",children:(0,e.jsx)(p.Z,{})}),(0,e.jsx)(d.Z.Item,{label:i.formatMessage({id:"pages.user.email"}),name:"email",children:(0,e.jsx)(p.Z,{})}),(0,e.jsx)(d.Z.Item,{label:i.formatMessage({id:"pages.user.phone"}),name:"phone",children:(0,e.jsx)(p.Z,{})}),(0,e.jsx)(d.Z.Item,{required:!0,label:i.formatMessage({id:"pages.user.status"}),name:"status",children:(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(C.Z.Option,{value:"NORMAL",children:i.formatMessage({id:"pages.user.normal"})}),(0,e.jsx)(C.Z.Option,{value:"DISABLED",children:i.formatMessage({id:"pages.user.disabled"})})]})}),(0,e.jsx)(d.Z.Item,{required:!0,label:i.formatMessage({id:"pages.user.role"}),name:"role",children:(0,e.jsxs)(C.Z,{disabled:b,children:[(0,e.jsx)(C.Z.Option,{value:"ADMIN",children:i.formatMessage({id:"pages.user.admin"})}),(0,e.jsx)(C.Z.Option,{value:"USER",children:i.formatMessage({id:"pages.user.user"})})]})}),(0,e.jsx)(d.Z.Item,{label:i.formatMessage({id:"pages.user.token"}),name:"token",required:!0,extra:(0,e.jsx)("a",{onClick:function(){var z=Array.from({length:32},function(){return Math.random().toString(36).charAt(2)}).join("");A.setFieldsValue({token:z})},children:i.formatMessage({id:"pages.user.refreshToken"})}),children:(0,e.jsx)(p.Z,{})})]})}),(0,e.jsx)(w.Z,{span:12,children:(0,e.jsxs)(W.Z,{type:"inner",children:[(0,e.jsx)(d.Z.Item,{label:i.formatMessage({id:"pages.user.isWhite"}),name:"isWhite",help:i.formatMessage({id:"pages.user.isWhite.help"}),children:(0,e.jsx)(se.Z,{})}),(0,e.jsx)(d.Z.Item,{label:i.formatMessage({id:"pages.user.dayDrawLimit"}),name:"dayDrawLimit",children:(0,e.jsx)(te.Z,{min:-1})}),(0,e.jsx)(d.Z.Item,{label:i.formatMessage({id:"pages.user.registerTime"}),name:"registerTimeFormat",children:(0,e.jsx)(p.Z,{disabled:!0})}),(0,e.jsx)(d.Z.Item,{label:i.formatMessage({id:"pages.user.registerIp"}),name:"registerIp",children:(0,e.jsx)(p.Z,{disabled:!0})}),(0,e.jsx)(d.Z.Item,{label:i.formatMessage({id:"pages.user.lastLoginTime"}),name:"lastLoginTimeFormat",children:(0,e.jsx)(p.Z,{disabled:!0})}),(0,e.jsx)(d.Z.Item,{label:i.formatMessage({id:"pages.user.lastLoginIp"}),name:"lastLoginIp",children:(0,e.jsx)(p.Z,{disabled:!0})})]})})]})})},H=ne,B=a(66927),ie=a(47389),le=a(82061),de=a(88360),oe=a(90930),ue=a(98695),ce=a(16568),y=a(14726),me=a(84567),J=a(66309),fe=a(42075),ge=a(86738),he=function(){var D=(0,M.useState)(!1),A=m()(D,2),$=A[0],E=A[1],i=(0,M.useState)({}),L=m()(i,2),R=L[0],b=L[1],T=(0,M.useState)(""),N=m()(T,2),z=N[0],Me=N[1],je=(0,M.useState)({}),Q=m()(je,2),Ze=Q[0],X=Q[1],xe=(0,M.useState)(1e3),Y=m()(xe,2),Ie=Y[0],Se=Y[1],Ce=d.Z.useForm(),Ae=m()(Ce,1),U=Ae[0],t=(0,G.useIntl)(),Ee=ce.ZP.useNotification(),k=m()(Ee,2),P=k[0],Oe=k[1],K=(0,M.useRef)(),V=function(){b({}),X({}),E(!1)},ye=(0,M.useState)(!1),q=m()(ye,2),De=q[0],_=q[1],ee=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(y.ZP,{onClick:V,children:t.formatMessage({id:"pages.cancel"})},"back"),(0,e.jsx)(y.ZP,{type:"primary",loading:De,onClick:function(){return U.submit()},children:t.formatMessage({id:"pages.submit"})},"submit")]}),ae=function(){var u=g()(c()().mark(function r(n){var s,l;return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return _(!0),o.next=3,(0,B.r4)(n);case 3:s=o.sent,s.success?(P.success({message:"success",description:s.message}),V(),(l=K.current)===null||l===void 0||l.reload()):P.error({message:"error",description:s.message}),_(!1);case 6:case"end":return o.stop()}},r)}));return function(n){return u.apply(this,arguments)}}(),re=function(r,n,s,l){U.resetFields(),Me(r),b(n),X(s),Se(l),E(!0)},Le=function(){var u=g()(c()().mark(function r(n){var s,l;return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,B.h8)(n);case 3:s=o.sent,s.success?(P.success({message:"success",description:t.formatMessage({id:"pages.task.deleteSuccess"})}),(l=K.current)===null||l===void 0||l.reload()):P.error({message:"error",description:s.message}),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),console.error(o.t0);case 10:return o.prev=10,o.finish(10);case 12:case"end":return o.stop()}},r,null,[[0,7,10,12]])}));return function(n){return u.apply(this,arguments)}}(),Re=[{title:t.formatMessage({id:"pages.user.name"}),dataIndex:"name",width:140,align:"center",fixed:"left"},{title:t.formatMessage({id:"pages.user.email"}),dataIndex:"email",width:140,align:"center"},{title:t.formatMessage({id:"pages.user.isWhite"}),dataIndex:"isWhite",width:90,align:"center",render:function(r){return(0,e.jsx)(me.Z,{checked:r,disabled:!0})}},{title:t.formatMessage({id:"pages.user.status"}),dataIndex:"status",width:90,align:"center",request:function(){var u=g()(c()().mark(function n(){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",[{label:t.formatMessage({id:"pages.user.normal"}),value:"NORMAL"},{label:t.formatMessage({id:"pages.user.disabled"}),value:"DISABLED"}]);case 1:case"end":return l.stop()}},n)}));function r(){return u.apply(this,arguments)}return r}(),render:function(r,n){var s="default";return r=="NORMAL"?s="default":r=="DISABLED"&&(s="error"),(0,e.jsx)(J.Z,{color:s,children:n.status})}},{title:t.formatMessage({id:"pages.user.role"}),dataIndex:"role",width:140,showInfo:!1,align:"center",request:function(){var u=g()(c()().mark(function n(){return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",[{label:t.formatMessage({id:"pages.user.user"}),value:"USER"},{label:t.formatMessage({id:"pages.user.admin"}),value:"ADMIN"}]);case 1:case"end":return l.stop()}},n)}));function r(){return u.apply(this,arguments)}return r}(),render:function(r,n){var s="default";return r=="USER"?s="default":r=="ADMIN"&&(s="success"),(0,e.jsx)(J.Z,{color:s,children:n.role})}},{title:t.formatMessage({id:"pages.user.dayDrawLimit"}),dataIndex:"dayDrawLimit",width:140,align:"center",hideInSearch:!0,render:function(r,n){return r<0?t.formatMessage({id:"pages.user.unlimited"}):r}},{title:t.formatMessage({id:"pages.user.lastLoginIp"}),dataIndex:"lastLoginIp",width:140,ellipsis:!0,hideInSearch:!0},{title:t.formatMessage({id:"pages.user.lastLoginTime"}),dataIndex:"lastLoginTimeFormat",width:140,ellipsis:!0,hideInSearch:!0},{title:t.formatMessage({id:"pages.user.registerIp"}),dataIndex:"registerIp",width:140,ellipsis:!0,hideInSearch:!0},{title:t.formatMessage({id:"pages.user.registerTime"}),dataIndex:"registerTimeFormat",width:140,ellipsis:!0,hideInSearch:!0},{title:t.formatMessage({id:"pages.operation"}),dataIndex:"operation",width:140,key:"operation",fixed:"right",align:"center",hideInSearch:!0,render:function(r,n){return(0,e.jsxs)(fe.Z,{children:[(0,e.jsx)(y.ZP,{icon:(0,e.jsx)(ie.Z,{}),onClick:function(){return re(t.formatMessage({id:"pages.user.update"}),(0,e.jsx)(H,{form:U,record:n,onSubmit:ae}),ee,1e3)}},"Update"),(0,e.jsx)(ge.Z,{title:t.formatMessage({id:"pages.user.delete"}),description:t.formatMessage({id:"pages.user.deleteTitle"}),onConfirm:function(){return Le(n.id)},children:(0,e.jsx)(y.ZP,{danger:!0,icon:(0,e.jsx)(le.Z,{})})})]})}}];return(0,e.jsxs)(oe._z,{children:[Oe,(0,e.jsx)(W.Z,{children:(0,e.jsx)(ue.Z,{columns:Re,scroll:{x:1e3},search:{defaultCollapsed:!0},pagination:{pageSize:10,showQuickJumper:!1,showSizeChanger:!1},rowKey:"id",actionRef:K,toolBarRender:function(){return[(0,e.jsx)(y.ZP,{type:"primary",icon:(0,e.jsx)(de.Z,{}),onClick:function(){return re(t.formatMessage({id:"pages.user.add"}),(0,e.jsx)(H,{form:U,record:{},onSubmit:ae}),ee,1e3)},children:t.formatMessage({id:"pages.add"})},"primary")]},request:function(){var u=g()(c()().mark(function r(n){var s;return c()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,B.tM)(h()(h()({},n),{},{pageNumber:n.current-1}));case 2:return s=Z.sent,Z.abrupt("return",{data:s.list,total:s.pagination.total,success:!0});case 4:case"end":return Z.stop()}},r)}));return function(r){return u.apply(this,arguments)}}()})}),(0,e.jsx)(S.Z,{title:z,modalVisible:$,hideModal:V,modalContent:R,footer:Ze,modalWidth:Ie})]})},ve=he},27986:function(F,j,a){var v=a(28248),h=a(85893),x=function(f){var g=f.title,I=f.modalVisible,m=f.hideModal,S=f.modalContent,d=f.footer,O=f.modalWidth;return(0,h.jsx)(v.Z,{title:g,open:I,onCancel:m,footer:d,width:O,children:S})};j.Z=x}}]);
